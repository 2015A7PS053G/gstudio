{% load simple_filters %}
{% xextends "ndf/gbase.html" with first_body_column=0 %}

{# {% extends "ndf/base.html" %} #}

{% load i18n %}
{% load cache %}
{% load ndf_tags %}
{% block title %}{% trans 'Events' %} {% endblock %}

{% block body_content %}
{% get_breadcrumb request.path %}
    <div class="row group_content">
        <div class="small-12 columns">
            <div class="row">
                <div class="small-12 columns group_banner"></div>
            </div>
            <div class="row">
                <div class="small-12 columns group_header">
                    <div class="group_title left">English Curriculum</div>
                    <div class="group_actions right">
                        <button class="button-hollow-white">Join the group</button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="small-12 columns group_sections">
                    <ul class="horizontal_tabs_gstudio">
                        <li>
                            <a href="#group_overview" class="selected">Overview</a>
                        </li><li>
                            <a href="#group_pages">Pages</a>
                        </li><li>
                            <a href="#group_elibrary">eLibrary</a>
                        </li><li>
                            <a href="#group_forum">Forum</a>
                        </li><li>
                            <a href="#group_blog">Blog</a>
                        </li><li>
                            <a href="#group_calendar">Calendar</a>
                        </li><li>
                            <a href="#group_assessment">Assessment</a>
                        </li><li class="sub_group_action">
                            <a href="#"> &bull;&bull;&bull;</a>
                            <ul>
                                <li class="create_curriculum">
                                    <a href="./create-curriculum.html">Create curriculum</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="small-12 columns group_sections_content">
                    <div id="group_overview">
                        {% if title == "about" %}
                            {% include "ndf/course_about.html" %}
                        {% endif %}
                    </div>
                    <div id="group_pages">
                    </div>
                    <div id="group_elibrary">
                        {% if title == "raw material" %}
                        <div class="elibrary-actions">
                            <button type="button" class="orange-button">
                                <i class="fi-filter"> </i>
                                Filter
                            </button>
                            <button type="button" class="right orange-button createAsset">
                                <i class="fi-plus"> </i>
                                Add Asset
                            </button>
                        </div>
                        <div class="row">
                            <div class="small-12 medium-6 large-3 columns">
                                <div class="asset_tile">
                                    <div class="asset_preview"></div>
                                    <div class="asset_text">
                                        <div class="asset_title">Asset Title</div>
                                        <div class="asset_desc">This is a long description</div>
                                    </div>
                                </div>
                            </div>
                            <div class="small-12 medium-6 large-3 columns">
                                <div class="asset_tile">
                                    <div class="asset_preview"></div>
                                    <div class="asset_text">
                                        <div class="asset_title">Asset Title</div>
                                        <div class="asset_desc">This is a long description</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                    <div id="addAsset" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
        <div class="row" style="margin-top: 25px; margin-bottom: 25px;">
            <div class="small-12 colums" >
                <h3 class="left">Add a new asset</h3>
                <button type="button" class="right orange-button">Save Asset</button>
            </div>
        </div>
        <div class="row">
            <div class="small-12 medium-6 large-6 columns">
                <label>Asset name
                    <input type="text" placeholder="" name="asset_name" />
                </label>
            </div>
        </div>
        <div class="row">
            <div class="small-12 medium-6 large-6 columns">
                <label>Asset description
                    <input type="text" placeholder="" name="asset_desc" />
                </label>
            </div>
        </div>
        <div class="row">
            <div class="small-12 medium-6 large-6 columns">
                <label>Tags
                    <input type="text" placeholder="" name="asset_tags" />
                </label>
            </div>
        </div>
        <div class="row">
            <div class="small-12 medium-6 large-6 columns">
                <label>Learning objectives met by this asset
                    <Select name="asset_objectives" placeholder="Select topics">
                        <option value="">Select topics</option>
                    </Select>
                </label>
            </div>
        </div>

        <hr />

        <h3>Resources for this asset</h3>
        <div class="row">
            <div class="small-12 medium-6 large-3 columns">
                <div class="asset_tile">
                    <div class="asset_preview"></div>
                    <div class="asset_text">
                        <div class="asset_title">Asset Title</div>
                        <div class="asset_desc">This is a long description</div>
                    </div>
                </div>
            </div>
            <div class="small-12 medium-6 large-3 columns">
                <div class="asset_tile">
                    <div class="asset_preview"></div>
                    <div class="asset_text">
                        <div class="asset_title">Asset Title</div>
                        <div class="asset_desc">This is a long description</div>
                    </div>
                </div>
            </div>
        </div>

        <hr />
        <h6>
            <b><u>All Assets</u>&nbsp; ></b>
            Resource Name
        </h6>
        <div class="row">
            <div class="small-12 medium-6 large-6 columns">
                <label>Resource name
                    <input type="text" placeholder="" name="resource_name" />
                </label>
                <label>Upload Transcript
                </label>
                <div class="transcript_files">
                    <input type="file" placeholder="" name="transcript_file" />
                    <span class="add_more_files"><u>+ Transcript</u></span>
                </div>
                <label>Upload Subtitle
                </label>
                <div class="subtitle_files">
                    <input type="file" placeholder="" name="subtitle_files" />
                    <span class="add_more_files"><u>+ Subtitle</u></span>
                </div>
            </div>
            <div class="small-12 medium-6 large-6 columns">
                <div class="preview_asset"></div>
            </div>
        </div>
        <a class="close-reveal-modal" aria-label="Close">&#215;</a>
    </div>
                    <div id="group_forum">

                    </div>
                    <div id="group_blog">

                    </div>
                    <div id="group_calendar">

                    </div>
                    <div id="group_assessment">

                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        
        $(function(){
            /*Group sections tabs*/
            $('.group_sections_content >div').hide();
            $('.group_sections_content #group_elibrary').show();
            $('.horizontal_tabs_gstudio').on('click', ' >li>a', function(e) {
                e.preventDefault();
                var id = $(this).attr('href');

                if (id !== '#') { // If the id is hash then we will not handle it.
                    $('.group_sections .selected').removeClass('selected');
                    $(this).addClass('selected');

                    $('.group_sections_content >div').hide();
                    $('.group_sections_content '+id).show();
                }
            });

            // Create Curriculum
            $('.createAsset').on('click', function(){
                $('#addAsset').foundation('reveal', 'open');
            });

            $('.transcript_files, .subtitle_files').on('click', 'span', function(){
                var input = $(this).siblings('input');
                $(this).closest('div').prepend('<input type="file" name="'+input.attr('name')+'"/>');
            })
        });
    </script>

{% endblock body_content %}
