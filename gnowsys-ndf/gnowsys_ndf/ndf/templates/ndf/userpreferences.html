{% load ndf_tags %}

{% block title %} <h4>{{author.name}}'s - Preferences </h4> {% endblock %}
<hr>
<style type="text/css">
.resource-drawer {
border-color: #D3D3D3; border-style: solid;
padding: 0 !important;
overflow-y: auto;
}

.resource-drawer li.bullet-item:hover{
background-color: #ecf0f1; cursor:pointer;
}

.posted-by{ color: #808080; font-size: small; }

.selected-resource { background-color:lightgray !important ; }

.resource-type-image {
height:40px;
background-repeat:no-repeat; background-size: 48px 48px
}
</style>

{% block body_content %}
{% all_gapps as all_apps %}

<dl class="accordion" data-accordion>
<dd>
     <a id="forum_notif_pref" href="#preference">Click here to turn off notification preferences for groups</a>
     <div id="preference" class="content">
       <div class="row">
         <div class="large-4 small-2 columns">
              <div class="large-3 columns">
                 <font size="5"> Forum_notifications </font>

	      </div> <!-- large-3 closes -->
	      <div class="large-6 columns">
              
	      <div id="options">
		 <input type="radio" value="On" name="forum"><font size="4">On</font> &nbsp;

                 <input type="radio" value="Off" name="forum"><font size="4">Off</font>
              </div>
          </div>
        </div>
	</div>
                 <hr>
	 <div class="row">
      
<div id="userpref">
<div class="row">
<div class="large-3 small-2 columns">
<div class="large-6 small-2 columns">
<font size="4">Select Groups:</font>
</div>
<div class="large-5 small-2 columns">
<input id="selectall" type="checkbox"><font size="4">Select All</font>
</div>
</div>
</div>
        {% include "ndf/drawer_widget.html" with widget_for="collection_set" %}
      
       
              <div class="large-3 columns">
	        <input type="button" id="save_preference" class="button small-10 small-push-1 colum" value="Save preferences" onclick="savepreference()">
              </div>
     </div> <!--div userpref -->
     </div>  <!-- div row closes -->
    </div> <!-- class content closes -->
</dd>
</dl>
{% endblock %}

<script type="text/javascript">
var selected=""
$(document).ready(function(){
var a=$('input[name=forum]')[1].checked=true;
});
var checkoptions = document.getElementsByName('forum');
$(document).on('click','#options',function(){
selected=$('input[name=forum]:checked').val();
alert(selected);
});

$(document).on('click',"#forum_notif_pref",function(){
$('#userpref #collection_set_drawer1').html("");
 $('#userpref #collection_set_drawer2').html("");
 $('#userpref #collection_set_drawer1').html('<li class="price"><input type="text" placeholder="Type here to search in the resources" id="collection_set_search" class="margin-0"></li>');
var url='/{{groupid}}/user_preference/'+'{{author}}/';
var data = {item:'forum',csrfmiddlewaretoken:'{{ csrf_token }}'};
 $.getJSON( url, data,function( data ) {
  $.each(data ,function(index , drawer_elements){
  
   if(index == 0)
    {
     $.each(drawer_elements.drawer1, function(index, element) {
        $('#userpref #collection_set_drawer1').append("<li id='"+element.id+"' class='bullet-item text-left'>"+element.name+"</li>");
      });
   }
   if(index == 1)
    {
    $.each(drawer_elements.drawer2, function(index, element) {
        $('#userpref #collection_set_drawer2').append("<li id='"+element.id+"' class='bullet-item text-left'>"+element.name+"</li>");
      });
    }

 });
   });

});
$(document).on('click','#selectall',function(){
$(".price").each(function(){
alert($(this));
});
});
//
//$("#collection_set_btnRight").trigger('click');
$(document).on('click','#save_preference',function(){

});
</script>
