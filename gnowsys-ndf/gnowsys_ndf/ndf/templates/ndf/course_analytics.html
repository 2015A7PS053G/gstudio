{% block head %}
  <script src="/static/ndf/bower_components/pace/pace.js"></script>
  <link href="/static/ndf/bower_components/pace/themes/blue/pace-theme-loading-bar.css" rel="stylesheet" />
{% endblock %}
<div class="pre-analytics-msg-div text-center">
    Your analytics is loading. Please wait.
</div>
<div class="course-overview-container hide">
    <div class="row collapse course-overview">
        <div class="columns small-12 medium-6">
        {% comment %}
          <div class="ongoing-session">
            <h5>ONGOING SESSION </h5>
            <h3>Taking Screenshots of the work and doing something</h3>
            <button class="tiny button"><i class="fa fa-sign-in"></i>&nbsp;Enter Session</button>
          </div>
          {% endcomment %}
          <div class="course-status">
            <h5>Course status</h5>
            <div class="row">
              <div class="small-12 columns">
                <span class="course-metric-heading">Module's Completion</span>
                <h4 class="module_progress_stmt"></h4>
                <div class="progress success round">
                    <div class="module_progress_meter meter"></div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="small-12 columns">
                <span class="course-metric-heading">Unit's Completion</span>
                <h4 class='units_progress_stmt'></h4>
                <div class="progress success round">
                    <div class="unit_progress_meter meter"></div>
                </div>

              </div>
            </div>
            <ul class="tabs" data-tab role="tablist">
              <li class="tab-title active" ><a href="#course-notification" role="tab" tabindex="0" aria-selected="true" aria-controls="panel2-1">Notifications</a></li>
              <li class="tab-title" ><a href="#course-act-logs" role="tab" tabindex="0" aria-selected="false" aria-controls="panel2-2">Activity Log</a></li>
            </ul>
            <div class="tabs-content">
              <section role="tabpanel" aria-hidden="false" class="content active" id="course-notification">
                <div class="row">
                  <div class="small-2 columns"><i class="fa fa-comment-o"></i></div>
                  <div class="small-10 columns">Summer daisy reported the file.</div>
                </div>
              </section>
              <section role="tabpanel" aria-hidden="true" class="content" id="course-act-logs">
                <ul>
                  <li>Activity log 1</li>
                  <li>Activity log 2</li>
                </ul>
              </section>
            </div>
          </div>
        </div>
        <div class="columns small-12 medium-6">
          <h5>Total points gained</h5>
          <span class="course-metric-count users_points"></span>
          <div class="course-points-breakup">

          </div>
          <div class="course-interactions course-section">
            <span class="course-section-heading">Interactions</span>
            <span class="course-section-icon">
              <i class="fa fa-users"></i>
            </span>
            <div class="row">
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Comments By me</span>
                <span class="course-metric-count total_cmnts_by_user"></span>
              </div>
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Avg Rating for my comments</span>
                <span class="course-metric-count">Star rating</span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Comments for me</span>
                <span class="course-metric-count">0</span>
              </div>
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Avg Ratings to others</span>
                <span class="course-metric-count">Star Rating</span>
              </div>
            </div>
          </div>
          <div class="course-gallery-uploads course-section">
            <span class="course-section-heading">Gallery uploads</span>
            <span class="course-section-icon">
              <i class="fa fa-file-text"></i>
            </span>
            <div class="row">
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Files Created</span>
                <span class="course-metric-count user_files"></span>
              </div>
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Visits gained</span>
                <span class="course-metric-count other_viewing_my_files"></span>
              </div>
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Comments recieved</span>
                <span class="course-metric-count cmts_on_user_files"></span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12">
                <span class="course-metric-heading">Avg. Rating</span>
                <span class="course-metric-count">Star Rating</span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Others File Visited</span>
                <span class="course-metric-count total_files_viewed_by_user"></span>
              </div>
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Comments on other files</span>
                <span class="course-metric-count commented_on_others_files"></span>
              </div>
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Comments by unique users</span>
                <span class="course-metric-count unique_users_commented_on_user_files"></span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12">
                <span class="course-metric-heading">Avg. Rating Awarded</span>
                <span class="course-metric-count">Star Rating</span>
              </div>
            </div>
          </div>
          <div class="course-quiz-perf course-section">
            <span class="course-section-heading">Quiz Performance</span>
            <span class="course-section-icon">
              <i class="fa fa-question-circle"></i>
            </span>
            <div class="row">
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Questions Attempted</span>
                <span class="course-metric-count attempted_quizitems"></span>
              </div>
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Total Questions</span>
                <span class="course-metric-count total_quizitems"></span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Correct Answers</span>
                <span class="course-metric-count correct-count correct_attempted_quizitems"></span>
              </div>
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Incorrect answers</span>
                <span class="course-metric-count incorrect-count incorrect_attempted_quizitems"></span>
              </div>
            </div>
          </div>
          <div class="course-notes course-section">
            <span class="course-section-heading">Note Making</span>
            <span class="course-section-icon">
              <i class="fa fa-book"></i>
            </span>
            <div class="row">
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Notes Written</span>
                <span class="course-metric-count user_notes"></span>
              </div>
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Views Gained</span>
                <span class="course-metric-count others_reading_my_notes"></span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12 medium-12">
                <span class="course-metric-heading">Others notes visited</span>
                <span class="course-metric-count total_notes_read_by_user"></span>
              </div>
            </div>
          </div>
          <div class="course-warning course-section">
              <h5>WAITING FOR YOUR FEEDBACK</h5>
              <div><i class="fa fa-sign-in"></i><a>3 New notes added</a></div>
              <div><i class="fa fa-file-image-o"></i><a>36 New files uploaded in the gallery</a></div>
              <div></div>
          </div>

        </div>

      </div>
</div>

<script type="text/javascript">

    $(document).ready(function() {

        $.ajax({
            url: "{% url 'course_analytics' group_id %}",

            type: "GET",

            dataType: "html",
            global: false,

            success: function(data){
                data = JSON.parse(data)
                // console.log(data)
                $.map( data, function( val, i ) {
                    if(i == "module_progress_meter" || i == "unit_progress_meter"){
                        $("."+i)
                            .css("width",val+"%")
                    }
                    else{
                        $("."+i)
                            .text(val)
                            .css('font-weight', 'bold')
                            .css("font-size", "20px")
                    }
                });
                $(".course-overview-container").removeClass("hide")
                $(".pre-analytics-msg-div").addClass("hide")
            },
        });//end of ajax
    })




</script>
