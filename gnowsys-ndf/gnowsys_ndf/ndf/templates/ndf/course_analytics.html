{% block head %}
  <script src="/static/ndf/bower_components/pace/pace.js"></script>
  <link href="/static/ndf/bower_components/pace/themes/blue/pace-theme-loading-bar.css" rel="stylesheet" />
{% endblock %}
<div class="pre-analytics-msg-div text-center">
    Your analytics is loading. Please wait.
</div>
<div class="course-overview-container hide">
    <div class="row collapse course-overview">
        <div class="columns small-12 medium-6">
          <div class="ongoing-session">
            <h5>ONGOING SESSION </h5>
            <h3>Taking Screenshots of the work and doing something</h3>
            <button class="tiny button"><i class="fa fa-sign-in"></i>&nbsp;Enter Session</button>
          </div>
          <div class="course-status">
            <h5>Course status</h5>
            <div class="row">
              <div class="small-12 columns">
                <span class="course-metric-heading">Module's Completion</span>
                <h4>2 of 6 modles completed</h4>
                <div class="progress success round">
                    <div class="module_progress_meter meter"></div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="small-12 columns">
                <span class="course-metric-heading">Unit's Completion</span>
                <h4>2 of 6 modles completed</h4>
                <div class="progress success round">
                    <div class="unit_progress_meter meter"></div>
                </div>

              </div>
            </div>
            <ul class="tabs" data-tab role="tablist">
              <li class="tab-title active" ><a href="#course-notification" role="tab" tabindex="0" aria-selected="true" aria-controls="panel2-1">Notifications</a></li>
              <li class="tab-title" ><a href="#course-act-logs" role="tab" tabindex="0" aria-selected="false" aria-controls="panel2-2">Activity Log</a></li>
            </ul>
            <div class="tabs-content">
              <section role="tabpanel" aria-hidden="false" class="content active" id="course-notification">
                <div class="row">
                  <div class="small-2 columns"><i class="fa fa-comment-o"></i></div>
                  <div class="small-10 columns">Summer daisy reported the file.</div>
                </div>
              </section>
              <section role="tabpanel" aria-hidden="true" class="content" id="course-act-logs">
                <ul>
                  <li>Activity log 1</li>
                  <li>Activity log 2</li>
                </ul>
              </section>
            </div>
          </div>
        </div>
        <div class="columns small-12 medium-6">
          <h5>Total points gained</h5>
          <span class="course-metric-count">167</span>
          <div class="course-points-breakup">

          </div>
          <div class="course-interactions course-section">
            <span class="course-section-heading">Interactions</span>
            <span class="course-section-icon">
              <i class="fa fa-users"></i>
            </span>
            <div class="row">
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Comments By me</span>
                <span class="course-metric-count">167</span>
              </div>
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Avg Rating for my comments</span>
                <span class="course-metric-count">Star rating</span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Comments for me</span>
                <span class="course-metric-count">32</span>
              </div>
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Avg Ratings to others</span>
                <span class="course-metric-count">Star Rating</span>
              </div>
            </div>
          </div>
          <div class="course-gallery-uploads course-section">
            <span class="course-section-heading">Gallery uploads</span>
            <span class="course-section-icon">
              <i class="fa fa-file-text"></i>
            </span>
            <div class="row">
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Files Created</span>
                <span class="course-metric-count">42</span>
              </div>
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Visits gained</span>
                <span class="course-metric-count">62</span>
              </div>
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Comments recieved</span>
                <span class="course-metric-count">17</span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12">
                <span class="course-metric-heading">Avg. Rating</span>
                <span class="course-metric-count">Star Rating</span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Others File Visited</span>
                <span class="course-metric-count">29</span>
              </div>
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Comments on other files</span>
                <span class="course-metric-count">15</span>
              </div>
              <div class="columns small-12 medium-4">
                <span class="course-metric-heading">Comments by unique users</span>
                <span class="course-metric-count">5</span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12">
                <span class="course-metric-heading">Avg. Rating Awarded</span>
                <span class="course-metric-count">Star Rating</span>
              </div>
            </div>
          </div>
          <div class="course-quiz-perf course-section">
            <span class="course-section-heading">Quiz Performance</span>
            <span class="course-section-icon">
              <i class="fa fa-question-circle"></i>
            </span>
            <div class="row">
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Questions Attempted</span>
                <span class="course-metric-count">93</span>
              </div>
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Total Questions</span>
                <span class="course-metric-count">105</span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Correct Answers</span>
                <span class="course-metric-count correct-count">87</span>
              </div>
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Incorrect answers</span>
                <span class="course-metric-count incorrect-count">6</span>
              </div>
            </div>
          </div>
          <div class="course-notes course-section">
            <span class="course-section-heading">Note Making</span>
            <span class="course-section-icon">
              <i class="fa fa-book"></i>
            </span>
            <div class="row">
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Notes Written</span>
                <span class="course-metric-count">93</span>
              </div>
              <div class="columns small-12 medium-6">
                <span class="course-metric-heading">Views Gained</span>
                <span class="course-metric-count">105</span>
              </div>
            </div>
            <div class="row">
              <div class="columns small-12 medium-12">
                <span class="course-metric-heading">Others notes visited</span>
                <span class="course-metric-count">87</span>
              </div>
            </div>
          </div>
          <div class="course-warning course-section">
              <h5>WAITING FOR YOUR FEEDBACK</h5>
              <div><i class="fa fa-sign-in"></i><a>3 New notes added</a></div>
              <div><i class="fa fa-file-image-o"></i><a>36 New files uploaded in the gallery</a></div>
              <div></div>
          </div>

        </div>
        <!--div class="about-course-heading">
          <div class="heading-text">
            <div>
              <h2>{% firstof node.altnames node.name  %}</h2>
            </div>
            {% if next_session_in_course.1 %}
              <div>Next Session: '{{next_session_in_course.0|default_if_none:"Data Not Available"}}' on {{next_session_in_course.1|date:"d M Y"}}</div>
            {% endif %}

            <div>
              <span title="No. of Modules"><i class="fi-list-thumbnails"></i>&nbsp;{{group_object.collection_set|length}}</span>
              &#8226;&nbsp;&nbsp;
              <span title="No. of Enrolled users"><i class="fi-torso"></i>&nbsp;{{group_object.author_set|length}}</span>
              &#8226;&nbsp;&nbsp;
              <span title="Course Duration"><i class="fi-clock"></i>&nbsp;{{weeks_count}} weeks</span>
            </div>
          </div>
        </div-->

      </div>

    <fieldset class="modules-progress">
        <legend>
            Course Status
        </legend>
      <label class='module_progress_stmt'></label>
      <div class="progress success round">
          <div class="module_progress_meter meter"></div>
      </div>

      <label class='units_progress_stmt'></label>
      <div class="progress success round">
          <div class="unit_progress_meter meter"></div>
      </div>

    </fieldset>

    <fieldset class="interactions">
        <legend>
            Interactions
        </legend>
        <div>
            <small>Comments by me: </small>
            <small class="total_cmnts_by_user"></small>
        </div>
        <div>
            <small>Comments for ME: </small>
        </div>
    </fieldset>

    <fieldset class="gallery">
        <legend>
            Gallery Uploads
        </legend>
        <div>
            <small>Files Created: </small>
            <small class="user_files"></small>
            <small>Visits Gained: </small>
            <small class="other_viewing_my_files"></small>
            <small>Comments Received: </small>
            <small class="cmts_on_user_files"></small>
            <small>Comments by Unique Users: </small>
            <small class="unique_users_commented_on_user_files"></small>
        </div>
        <div>
            <small>Commented on Others Files: </small>
            <small class="commented_on_others_files">100</small>
             <small>Others Files visited: </small>
            <small class="total_files_viewed_by_user"></small>

        </div>
    </fieldset>

    <fieldset class="quiz">
        <legend>
            Quiz Performance
        </legend>
        <div>
            <small>Questions Attempted: </small>
            <small class="attempted_quizitems"></small>
            <small>Total Questions: </small>
            <small class="total_quizitems"></small>
        </div>
        <div>
            <small>Correct Answers: </small>
            <small class="correct_attempted_quizitems"></small>
            <small>InCorrect Answers: </small>
            <small class="incorrect_attempted_quizitems"></small>
        </div>
    </fieldset>

    <fieldset class="notes">
        <legend>
            Note Making
        </legend>
        <div>
            <small >Notes written: </small>
            <small class="user_notes"></small>
            <small >Views Gained: </small>
            <small class="others_reading_my_notes"></small>
            <small >Comments Received: </small>
            <small class="cmts_on_user_notes"></small>
            <small >Comments by Unique Users: </small>
            <small class="unique_users_commented_on_user_notes"></small>
        </div>
        <div>
            <small>Other Notes viewed: </small>
            <small class="total_notes_read_by_user"></small>
            <small>Commented on Others Notes: </small>
            <small class="commented_on_others_notes"></small>
        </div>
    </fieldset>
</div>

<script type="text/javascript">

    $(document).ready(function() {

        $.ajax({
            url: "{% url 'course_analytics' group_id %}",

            type: "GET",

            dataType: "html",
            global: false,

            success: function(data){
                data = JSON.parse(data)
                // console.log(data)
                $.map( data, function( val, i ) {
                    if(i == "module_progress_meter" || i == "unit_progress_meter"){
                        $("."+i)
                            .css("width",val+"%")
                    }
                    else{
                        $("."+i)
                            .text(val)
                            .css('font-weight', 'bold')
                            .css("font-size", "20px")
                    }
                });
                $(".course-overview-container").removeClass("hide")
                $(".pre-analytics-msg-div").addClass("hide")
            },
        });//end of ajax
    })




</script>
